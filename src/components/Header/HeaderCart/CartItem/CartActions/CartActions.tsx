import { useActions } from '@/hooks/useActions';
import { useCart } from '@/hooks/useCart';
import { ICartItem } from '@/types/cart.interface';
import { FC } from 'react';
import './cartActions.scss';

const CartActions: FC<{ item: ICartItem }> = ({ item }) => {
	const { removeFromCart, changeQuantity } = useActions();
	const { items } = useCart();
	const quantity = items.find(cartItem => cartItem.id === item.id)?.quantity;

	return (
		<div className='cart-actions'>
			<button
				onClick={() => changeQuantity({ id: item.id, type: 'minus' })}
				disabled={quantity === 1}
				className='cart-actions__btn'
			>
				<svg
					x='0px'
					y='0px'
					width='401.991px'
					height='401.991px'
					viewBox='0 0 401.991 401.991'
				>
					<path
						d='M394,154.174c-5.331-5.33-11.806-7.995-19.417-7.995H27.406c-7.611,0-14.084,2.665-19.414,7.995
		C2.662,159.503,0,165.972,0,173.587v54.82c0,7.617,2.662,14.086,7.992,19.41c5.33,5.332,11.803,7.994,19.414,7.994h347.176
		c7.611,0,14.086-2.662,19.417-7.994c5.325-5.324,7.991-11.793,7.991-19.41v-54.82C401.991,165.972,399.332,159.5,394,154.174z'
					/>
				</svg>
			</button>

			<input
				type='text'
				disabled
				readOnly
				value={quantity}
				className='cart-actions__input'
			/>

			<button
				onClick={() => changeQuantity({ id: item.id, type: 'plus' })}
				className='cart-actions__btn'
			>
				<svg
					x='0px'
					y='0px'
					width='533.333px'
					height='533.333px'
					viewBox='0 0 533.333 533.333'
				>
					<path
						d='M516.667,200H333.333V16.667C333.333,7.462,325.871,0,316.667,0h-100C207.462,0,200,7.462,200,16.667V200H16.667
		C7.462,200,0,207.462,0,216.667v100c0,9.204,7.462,16.666,16.667,16.666H200v183.334c0,9.204,7.462,16.666,16.667,16.666h100
		c9.204,0,16.667-7.462,16.667-16.666V333.333h183.333c9.204,0,16.667-7.462,16.667-16.666v-100
		C533.333,207.462,525.871,200,516.667,200z'
					/>
				</svg>
			</button>

			<button
				onClick={() => removeFromCart({ id: item.id })}
				className='cart-actions__trash'
			>
				<svg
					x='0px'
					y='0px'
					width='753.23px'
					height='753.23px'
					viewBox='0 0 753.23 753.23'
				>
					<path
						d='M635.538,94.154h-141.23V47.077C494.308,21.067,473.24,0,447.23,0H306c-26.01,0-47.077,21.067-47.077,47.077v47.077
				h-141.23c-26.01,0-47.077,21.067-47.077,47.077v47.077c0,25.986,21.067,47.053,47.03,47.077h517.917
				c25.986-0.024,47.054-21.091,47.054-47.077V141.23C682.615,115.221,661.548,94.154,635.538,94.154z M447.23,94.154H306V70.615
				c0-12.993,10.545-23.539,23.538-23.539h94.154c12.993,0,23.538,10.545,23.538,23.539V94.154z M117.692,659.077
				c0,51.996,42.157,94.153,94.154,94.153h329.539c51.996,0,94.153-42.157,94.153-94.153V282.461H117.692V659.077z M470.77,353.077
				c0-12.993,10.545-23.539,23.538-23.539s23.538,10.545,23.538,23.539v282.461c0,12.993-10.545,23.539-23.538,23.539
				s-23.538-10.546-23.538-23.539V353.077z M353.077,353.077c0-12.993,10.545-23.539,23.539-23.539s23.538,10.545,23.538,23.539
				v282.461c0,12.993-10.545,23.539-23.538,23.539s-23.539-10.546-23.539-23.539V353.077z M235.384,353.077
				c0-12.993,10.545-23.539,23.539-23.539s23.539,10.545,23.539,23.539v282.461c0,12.993-10.545,23.539-23.539,23.539
				s-23.539-10.546-23.539-23.539V353.077z'
					/>
				</svg>
			</button>
		</div>
	);
};

export default CartActions;
